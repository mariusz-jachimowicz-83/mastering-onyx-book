== Main usage

.Main Usage
image::img/main-usage.png[align="center"]

To be able to submit job you need to run core on each host

1. `start-env`
2. `start-peer-group`

Each of this methods has shutdown counterpart

* `shutdown-env`
* `shutdown-peer-group`

When core is running then you can submit job from any of hosts.
Rest of hosts will pick up job via Zookeeper.

3. `submit-job`

You can kill job by calling

* `kill-job(cfg, job-id)`

== Cluster interactions

.Main useable interactions with cluster
image::img/api-actions.png[align="center"]

Main interactions with onyx cluster:

* `kill-job` - kill running job.
* `gc` - force to shrink replica. Useable for bigger clusters or when you have many short jobs.
* `await-job-completion` - wait until job completes. Usefull for tests.
* `subscribe-to-log` - it allows to create replica. Zookeeper is used as an appendable log and whole cluster is using masterless synchronization. If you want know a cluster state then you need to subscribe to log and create local replica from it.
